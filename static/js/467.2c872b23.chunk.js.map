{"version":3,"file":"static/js/467.2c872b23.chunk.js","mappings":"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","sources":["components/Loader/Loader.tsx","config/firebase.ts","helpers/getAdditionUserData.ts","hooks/useRedux.ts","types/AuthErrors.ts","helpers/checkValidInputs.ts","pages/Auth/SignIn/SignIn.tsx","helpers/saveAdditionData.ts","pages/Auth/SignUp/SignUp.tsx","pages/Auth/Auth.tsx"],"sourcesContent":["import { createPortal } from \"react-dom\";\nimport './Loader.scss';\n\nconst Loader = () => {\n  return (\n    <>\n      {createPortal(\n        (\n          <div className=\"lds-ellipsis\">\n          <div />\n          <div />\n          <div />\n          <div />\n        </div>\n        ),\n        document.getElementById('portal') as HTMLElement\n      )}\n  </>\n  );\n};\n\nexport default Loader;","import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\nexport const app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);","import { getDoc, doc } from \"firebase/firestore\";\nimport { db } from \"../config/firebase\";\nimport { UserAdditionalData } from \"../types/UserAdditionalData\";\n\nexport const getAdditionalUserData = async (uid: string) => {\n  const id = doc(db, 'users', uid);\n\n  return getDoc(id).then((doc) => {\n     return doc.data() as UserAdditionalData;\n  }).catch(error => console.log(error));\n};","import { useDispatch, useSelector } from 'react-redux'\nimport type { TypedUseSelectorHook } from 'react-redux'\nimport { AppDispatch, RootState } from '../redux/store'\n\nexport const useAppDispatch: () => AppDispatch = useDispatch\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\n","export enum AuthErrors {\n  FIRSTNAME,\n  EMAIL,\n  PASSWORD,\n}","import { AuthErrors } from \"../types/AuthErrors\";\n\nexport const checkValidInput = (checkError: AuthErrors, input: string) => {\n  switch (checkError) {\n    case AuthErrors.EMAIL:\n      const validRegexEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n      return input.match(validRegexEmail);\n\n    case AuthErrors.PASSWORD:\n      return input.length >= 8;\n\n    case AuthErrors.FIRSTNAME:\n      return input.length >= 4;\n\n    default:\n      return;\n  }\n};","import { ChangeEvent, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { setUser } from \"../../../redux/slices/userSlice\";\nimport { app } from \"../../../config/firebase\";\nimport { useAppDispatch } from \"../../../hooks/useRedux\";\nimport { checkValidInput } from \"../../../helpers/checkValidInputs\";\nimport { getAdditionalUserData } from \"../../../helpers/getAdditionUserData\";\nimport { AuthErrors } from \"../../../types/AuthErrors\";\nimport { User } from \"../../../types/User\";\n\ntype Props = {\n  setIsLoading: (value: boolean) => void;\n}\n\nconst SignIn: React.FC<Props> = ({ setIsLoading }) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  \n  const auth = getAuth(app);\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState<AuthErrors[]>([]);\n  const [userNotFound, setUserNotFound] = useState(false);\n\n  const signIn = () => {\n    let isError = false;\n    const isValidEmail = checkValidInput(AuthErrors.EMAIL, email);\n    const isValidPassword = checkValidInput(AuthErrors.PASSWORD, password);\n\n    if (!isValidEmail) {\n      setErrors(currentErrors => (\n        [...currentErrors, AuthErrors.EMAIL]\n      ));\n\n      isError = true;\n    }\n\n    if (!isValidPassword) {\n      setErrors(currentErrors => (\n        [...currentErrors, AuthErrors.PASSWORD]\n      ));\n\n      isError = true;\n    }\n    \n    if (isError) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    signInWithEmailAndPassword(auth, email, password)\n      .then(res => {\n        getAdditionalUserData(res.user.uid)\n          .then(data => {\n            const fullData = {\n              email,\n              password,\n              firstName: data?.firstName,\n            };\n\n            dispatch(setUser(fullData as User));\n            setUserNotFound(false);\n            navigate(\"/\");\n          });\n      }).catch(() => setUserNotFound(true))\n      .finally(() => setIsLoading(false));\n  };\n\n  const onChange = (\n    e: ChangeEvent<HTMLInputElement>,\n    errorType: AuthErrors,\n    setInput: (value: string) => void,\n  ) => {\n    const value = e.target.value;\n    const isValidInput = checkValidInput(errorType, value);\n\n    setInput(value);\n  \n    if (isValidInput) {\n      setErrors(currErrors => currErrors\n        .filter(currError => currError !== errorType));\n    }\n  };\n\n  return (\n    <>\n      <form\n        className=\"auth-form\"\n        onSubmit={e => e.preventDefault()}\n      >\n        <label>\n          <input\n            className=\"input\"\n            type=\"email\"\n            placeholder=\"Email\"\n            autoComplete=\"true\"\n            value={email}\n            onChange={e => onChange(e, AuthErrors.EMAIL, setEmail)}\n          />\n\n          <p className=\"error\">\n            {errors.includes(AuthErrors.EMAIL) && (\n              \"must incl. @ , .\"\n            )}\n          </p>\n        </label>\n                \n        <label>\n          <input\n            className=\"input\"\n            type=\"password\"\n            placeholder=\"Password\"\n            autoComplete=\"true\"\n            value={password}\n            onChange={e => onChange(e, AuthErrors.PASSWORD, setPassword)}\n          />\n  \n          <p className=\"error\">\n            {errors.includes(AuthErrors.PASSWORD) && (\n              \"more than 7 symbols\"\n            )}\n          </p>\n        </label>\n      \n        <button\n          className=\"btn\"\n          onClick={signIn}\n          disabled={!!errors.length}\n        >\n          Sign In\n        </button>\n\n        <Link to=\"/signUp\" className=\"auth-form__link\">\n          Sign Up\n        </Link>\n      </form>\n\n      {userNotFound && <p>User not found</p>}\n    </>\n  );\n};\n\nexport default SignIn;","import { setDoc, doc } from \"firebase/firestore\";\nimport { db } from \"../config/firebase\";\nimport { UserAdditionalData } from \"../types/UserAdditionalData\";\n\nexport const saveAdditionalUserData = async (uid: string, data: UserAdditionalData) => {\n  try {\n    await setDoc(doc(db, \"users\", uid), data);\n  } catch (error) {\n    console.error(\"Error adding document: \", error);\n  }\n};","import { ChangeEvent, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { setUser } from \"../../../redux/slices/userSlice\";\nimport { app } from \"../../../config/firebase\";\nimport { useAppDispatch } from \"../../../hooks/useRedux\";\nimport { saveAdditionalUserData } from \"../../../helpers/saveAdditionData\";\nimport { checkValidInput } from \"../../../helpers/checkValidInputs\";\nimport { AuthErrors } from \"../../../types/AuthErrors\";\n\ntype Props = {\n  setIsLoading: (value: boolean) => void;\n}; \n\nconst SignUp: React.FC<Props> = ({ setIsLoading }) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  \n  const auth = getAuth(app);\n\n  const [firstName, setFirstName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState<AuthErrors[]>([]);\n  const [userInUsed, setUserInUsed] = useState(false);\n\n  const onChange = (\n    e: ChangeEvent<HTMLInputElement>,\n    errorType: AuthErrors,\n    setInput: (value: string) => void,\n  ) => {\n    const value = e.target.value;\n    const isValidInput = checkValidInput(errorType, value);\n\n    setInput(value);\n  \n    if (isValidInput) {\n      setErrors(currErrors => currErrors\n        .filter(currError => currError !== errorType));\n    }\n  };\n\n  const signUp = () => {\n    let isError = false;\n    const isValidEmail = checkValidInput(AuthErrors.EMAIL, email);\n    const isValidPassword = checkValidInput(AuthErrors.PASSWORD, password);\n    const isValidFirstName = checkValidInput(AuthErrors.FIRSTNAME, firstName);\n\n    if (!isValidEmail) {\n      setErrors(currentErrors => (\n        [...currentErrors, AuthErrors.EMAIL]\n      ));\n\n      isError = true;\n    }\n\n    if (!isValidPassword) {\n      setErrors(currentErrors => (\n        [...currentErrors, AuthErrors.PASSWORD]\n      ));\n\n      isError = true;\n    }\n\n    if (!isValidFirstName) {\n      setErrors(currentErrors => (\n        [...currentErrors, AuthErrors.FIRSTNAME]\n      ));\n\n      isError = true;\n    }\n    \n    if (isError) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    createUserWithEmailAndPassword(auth, email, password)\n      .then(res => {\n        dispatch(setUser({ email, password, firstName }));\n        saveAdditionalUserData(res.user.uid, { firstName, password });\n        navigate(\"/\");\n      }).catch(() => setUserInUsed(true))\n      .finally(() => setIsLoading(false));\n  };\n\n  return (\n    <>\n      <form\n        className=\"auth-form\"\n        onSubmit={e => e.preventDefault()}\n      >\n        <label>\n          <input\n            className=\"input\"\n            type=\"text\"\n            placeholder=\"First name\"\n            autoComplete=\"true\"\n            value={firstName}\n            onChange={e => onChange(e, AuthErrors.FIRSTNAME, setFirstName)}\n          />\n\n          <p className=\"error\">\n            {errors.includes(AuthErrors.FIRSTNAME) && (\n              \"more than 3 symbols\"\n            )}\n          </p>\n        </label>\n  \n        <label>\n          <input\n            className=\"input\"\n            type=\"email\"\n            placeholder=\"Email\"\n            autoComplete=\"true\"\n            value={email}\n            onChange={e => onChange(e, AuthErrors.EMAIL, setEmail)}\n          />\n\n          <p className=\"error\">\n            {errors.includes(AuthErrors.EMAIL) && (\n              \"must incl. @ , .\"\n            )}\n          </p>\n        </label>\n              \n        <label>\n          <input\n            className=\"input\"\n            type=\"password\"\n            placeholder=\"Password\"\n            autoComplete=\"true\"\n            value={password}\n            onChange={e => onChange(e, AuthErrors.PASSWORD, setPassword)}\n          />\n\n          <p className=\"error\">\n            {errors.includes(AuthErrors.PASSWORD) && (\n              \"more than 7 symbols\"\n            )}\n          </p>\n        </label>\n    \n        <button\n          className=\"btn\"\n          onClick={signUp}\n          disabled={!!errors.length}\n        >\n          Sign up\n        </button>\n\n        <Link to=\"/signIn\" className=\"auth-form__link\">\n          Sign in\n        </Link>\n      </form>\n\n      {userInUsed && <p>User already</p>}\n    </>\n  );\n};\n\nexport default SignUp;","import { useState } from 'react';\nimport { useLocation } from 'react-router';\nimport SignIn from './SignIn/SignIn';\nimport SignUp from './SignUp/SignUp';\nimport Loader from '../../components/Loader/Loader';\nimport './Auth.scss';\n\nconst Auth = () => {\n  const location = useLocation().pathname;\n  const isSignUp = location === '/signUp';\n\n  const [isLoading, setIsLoading] = useState(false);\n  \n  return (\n    <>\n      <section className=\"page__section auth\">\n        <div className=\"container\">\n          <div className=\"auth__wrapper\">\n            <h1 className=\"page__title\">\n              {isSignUp ? \"Sign up\" : \"Sign In\"}\n            </h1>\n  \n            {isSignUp\n              ? <SignUp setIsLoading={setIsLoading} />\n              : <SignIn setIsLoading={setIsLoading} />}\n          </div>\n        </div>\n      </section>\n  \n      {isLoading && <Loader />}\n    </>\n  );\n};\n\nexport default Auth;"],"names":["_jsx","_Fragment","children","createPortal","_jsxs","className","document","getElementById","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","getAdditionalUserData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","uid","id","wrap","_context","prev","next","doc","abrupt","getDoc","then","data","catch","error","console","log","stop","_x","apply","arguments","useAppDispatch","useDispatch","useAppSelector","useSelector","AuthErrors","checkValidInput","checkError","input","EMAIL","match","PASSWORD","length","FIRSTNAME","setIsLoading","dispatch","navigate","useNavigate","auth","getAuth","_useState","useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errors","setErrors","_useState7","_useState8","userNotFound","setUserNotFound","onChange","e","errorType","setInput","value","target","isValidInput","currErrors","filter","currError","onSubmit","preventDefault","type","placeholder","autoComplete","includes","onClick","isError","isValidEmail","isValidPassword","currentErrors","concat","_toConsumableArray","signInWithEmailAndPassword","res","user","fullData","firstName","setUser","finally","disabled","Link","to","saveAdditionalUserData","setDoc","t0","_x2","setFirstName","_useState9","_useState10","userInUsed","setUserInUsed","isValidFirstName","createUserWithEmailAndPassword","isSignUp","useLocation","pathname","isLoading","SignUp","SignIn","Loader"],"sourceRoot":""}