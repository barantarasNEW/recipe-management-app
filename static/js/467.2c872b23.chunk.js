"use strict";(self.webpackChunkrecipe_management_app=self.webpackChunkrecipe_management_app||[]).push([[467],{931:function(n,e,t){t.d(e,{Z:function(){return s}});var r=t(4164),a=t(184),s=function(){return(0,a.jsx)(a.Fragment,{children:(0,r.createPortal)((0,a.jsxs)("div",{className:"lds-ellipsis",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]}),document.getElementById("portal"))})}},914:function(n,e,t){t.d(e,{db:function(){return u},l:function(){return s}});var r=t(4702),a=t(2481),s=(0,r.ZF)({apiKey:"AIzaSyDn-uSjoBt9Xb3MsYRb_nY2o0PuEXqSRcc",authDomain:"travel-auth-7b217.firebaseapp.com",projectId:"travel-auth-7b217",storageBucket:"travel-auth-7b217.appspot.com",messagingSenderId:"304864174974",appId:"1:304864174974:web:d2d7b0bbc5a99349bc492f"}),u=(0,a.ad)(s)},5853:function(n,e,t){t.d(e,{c:function(){return c}});var r=t(4165),a=t(5861),s=t(2481),u=t(914),c=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,s.JU)(u.db,"users",e),n.abrupt("return",(0,s.QT)(t).then((function(n){return n.data()})).catch((function(n){return console.log(n)})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},4914:function(n,e,t){t.d(e,{C:function(){return s},T:function(){return a}});var r=t(9434),a=r.I0,s=r.v9},6467:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var r=t(9439),a=t(2791),s=t(7689),u=t(3433),c=t(1087),i=t(8255),o=t(653),l=t(914),d=t(4914),p=function(n){return n[n.FIRSTNAME=0]="FIRSTNAME",n[n.EMAIL=1]="EMAIL",n[n.PASSWORD=2]="PASSWORD",n}({}),f=function(n,e){switch(n){case p.EMAIL:return e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/);case p.PASSWORD:return e.length>=8;case p.FIRSTNAME:return e.length>=4;default:return}},h=t(5853),m=t(184),S=function(n){var e=n.setIsLoading,t=(0,d.T)(),S=(0,s.s0)(),v=(0,i.v0)(l.l),x=(0,a.useState)(""),j=(0,r.Z)(x,2),g=j[0],b=j[1],A=(0,a.useState)(""),N=(0,r.Z)(A,2),I=N[0],Z=N[1],E=(0,a.useState)([]),R=(0,r.Z)(E,2),M=R[0],w=R[1],y=(0,a.useState)(!1),_=(0,r.Z)(y,2),C=_[0],D=_[1],L=function(n,e,t){var r=n.target.value,a=f(e,r);t(r),a&&w((function(n){return n.filter((function(n){return n!==e}))}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:"auth-form",onSubmit:function(n){return n.preventDefault()},children:[(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{className:"input",type:"email",placeholder:"Email",autoComplete:"true",value:g,onChange:function(n){return L(n,p.EMAIL,b)}}),(0,m.jsx)("p",{className:"error",children:M.includes(p.EMAIL)&&"must incl. @ , ."})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{className:"input",type:"password",placeholder:"Password",autoComplete:"true",value:I,onChange:function(n){return L(n,p.PASSWORD,Z)}}),(0,m.jsx)("p",{className:"error",children:M.includes(p.PASSWORD)&&"more than 7 symbols"})]}),(0,m.jsx)("button",{className:"btn",onClick:function(){var n=!1,r=f(p.EMAIL,g),a=f(p.PASSWORD,I);r||(w((function(n){return[].concat((0,u.Z)(n),[p.EMAIL])})),n=!0),a||(w((function(n){return[].concat((0,u.Z)(n),[p.PASSWORD])})),n=!0),n||(e(!0),(0,i.e5)(v,g,I).then((function(n){(0,h.c)(n.user.uid).then((function(n){var e={email:g,password:I,firstName:null===n||void 0===n?void 0:n.firstName};t((0,o.a)(e)),D(!1),S("/")}))})).catch((function(){return D(!0)})).finally((function(){return e(!1)})))},disabled:!!M.length,children:"Sign In"}),(0,m.jsx)(c.rU,{to:"/signUp",className:"auth-form__link",children:"Sign Up"})]}),C&&(0,m.jsx)("p",{children:"User not found"})]})},v=t(4165),x=t(5861),j=t(2481),g=function(){var n=(0,x.Z)((0,v.Z)().mark((function n(e,t){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,j.pl)((0,j.JU)(l.db,"users",e),t);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error("Error adding document: ",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e,t){return n.apply(this,arguments)}}(),b=function(n){var e=n.setIsLoading,t=(0,d.T)(),h=(0,s.s0)(),S=(0,i.v0)(l.l),v=(0,a.useState)(""),x=(0,r.Z)(v,2),j=x[0],b=x[1],A=(0,a.useState)(""),N=(0,r.Z)(A,2),I=N[0],Z=N[1],E=(0,a.useState)(""),R=(0,r.Z)(E,2),M=R[0],w=R[1],y=(0,a.useState)([]),_=(0,r.Z)(y,2),C=_[0],D=_[1],L=(0,a.useState)(!1),P=(0,r.Z)(L,2),F=P[0],k=P[1],T=function(n,e,t){var r=n.target.value,a=f(e,r);t(r),a&&D((function(n){return n.filter((function(n){return n!==e}))}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:"auth-form",onSubmit:function(n){return n.preventDefault()},children:[(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{className:"input",type:"text",placeholder:"First name",autoComplete:"true",value:j,onChange:function(n){return T(n,p.FIRSTNAME,b)}}),(0,m.jsx)("p",{className:"error",children:C.includes(p.FIRSTNAME)&&"more than 3 symbols"})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{className:"input",type:"email",placeholder:"Email",autoComplete:"true",value:I,onChange:function(n){return T(n,p.EMAIL,Z)}}),(0,m.jsx)("p",{className:"error",children:C.includes(p.EMAIL)&&"must incl. @ , ."})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{className:"input",type:"password",placeholder:"Password",autoComplete:"true",value:M,onChange:function(n){return T(n,p.PASSWORD,w)}}),(0,m.jsx)("p",{className:"error",children:C.includes(p.PASSWORD)&&"more than 7 symbols"})]}),(0,m.jsx)("button",{className:"btn",onClick:function(){var n=!1,r=f(p.EMAIL,I),a=f(p.PASSWORD,M),s=f(p.FIRSTNAME,j);r||(D((function(n){return[].concat((0,u.Z)(n),[p.EMAIL])})),n=!0),a||(D((function(n){return[].concat((0,u.Z)(n),[p.PASSWORD])})),n=!0),s||(D((function(n){return[].concat((0,u.Z)(n),[p.FIRSTNAME])})),n=!0),n||(e(!0),(0,i.Xb)(S,I,M).then((function(n){t((0,o.a)({email:I,password:M,firstName:j})),g(n.user.uid,{firstName:j,password:M}),h("/")})).catch((function(){return k(!0)})).finally((function(){return e(!1)})))},disabled:!!C.length,children:"Sign up"}),(0,m.jsx)(c.rU,{to:"/signIn",className:"auth-form__link",children:"Sign in"})]}),F&&(0,m.jsx)("p",{children:"User already"})]})},A=t(931),N=function(){var n="/signUp"===(0,s.TH)().pathname,e=(0,a.useState)(!1),t=(0,r.Z)(e,2),u=t[0],c=t[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("section",{className:"page__section auth",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"auth__wrapper",children:[(0,m.jsx)("h1",{className:"page__title",children:n?"Sign up":"Sign In"}),n?(0,m.jsx)(b,{setIsLoading:c}):(0,m.jsx)(S,{setIsLoading:c})]})})}),u&&(0,m.jsx)(A.Z,{})]})}}}]);
//# sourceMappingURL=467.2c872b23.chunk.js.map